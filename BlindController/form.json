{
  "elements": [
    {"type": "SelectVariable", "name": "BlindLevelID", "caption": "Blind Level ID"},
    {
      "type":  "ExpansionPanel", "caption": "Time Schedule",
      "items": [
        {"type": "SelectEvent", "name": "WeeklyTimeTableEventID", "caption": "Weekly Timetable Event ID"},
        {
          "type":  "ExpansionPanel", "caption": "Consider Holiday (optional)",
          "items": [
            {"type": "SelectVariable", "name": "HolidayIndicatorID", "caption": "Holiday Indicator ID"},
            {
              "type": "Select", "name": "DayUsedWhenHoliday", "caption": "Used Weekday when Holiday", "options": [
              {"caption": "- not used -", "value": 0},
              {"caption": "Monday", "value": 1},
              {"caption": "Tuesday", "value": 2},
              {"caption": "Wednesday", "value": 3},
              {"caption": "Thursday", "value": 4},
              {"caption": "Friday", "value": 5},
              {"caption": "Saturday", "value": 6},
              {"caption": "Sunday", "value": 7}
            ]
            }
          ]
        },
        {
          "type":  "ExpansionPanel", "caption": "Overruling Up and Down Times (optional)",
          "items": [
            {"type": "SelectVariable", "name": "WakeUpTimeID", "caption": "Wake-Up Time ID"},
            {"type": "NumberSpinner", "name": "WakeUpTimeOffset", "caption": "Wake-Up Time Offset", "suffix": "Minutes"},
            {"type": "SelectVariable", "name": "BedTimeID", "caption": "Bedtime ID"},
            {"type": "NumberSpinner", "name": "BedTimeOffset", "caption": "Bedtime Offset", "suffix": "Minutes"}
          ]
        }
      ]
    },
    {
      "type":  "ExpansionPanel", "caption": "Is Day Detection (optional)",
      "items": [
        {"type": "SelectVariable", "name": "IsDayIndicatorID", "caption": "Is Day Indicator ID"},
        {"type": "Label", "caption": "If no 'Is Day' indicator is set, the day is determined by the brightness:"},
        {"type": "SelectVariable", "name": "BrightnessID", "caption": "Brightness ID"},
        {"type": "SelectVariable", "name": "BrightnessThresholdID", "caption": "Brightness Threshold ID"},
        {
          "type":  "ExpansionPanel", "caption": "Overruling Day Start and End Times (optional)",
          "items": [
            {"type": "SelectVariable", "name": "DayStartID", "caption": "Start of the day ID"},
            {"type": "SelectVariable", "name": "DayEndID", "caption": "End of the day ID"}
          ]
        }
      ]
    },
    {
      "type":  "ExpansionPanel", "caption": "Shadowing According to Sun Position (optional)",
      "items": [
        {"type": "SelectVariable", "name": "ActivatorIDShadowingBySunPosition", "caption": "Activator ID"},
        {"type": "Label", "caption": "Define the sun position indicators"},
        {"type": "SelectVariable", "name": "AzimuthID", "caption": "Azimuth ID"},
        {"type": "SelectVariable", "name": "AltitudeID", "caption": "Altitude ID"},
        {"type": "Label", "caption": "Define the range of azimuth for shadowing:"},
        {"type": "NumberSpinner", "name": "AzimuthFrom", "caption": "From Azimuth", "digits": "1"},
        {"type": "NumberSpinner", "name": "AzimuthTo", "caption": "To Azimuth", "digits": "1"},
        {"type": "Label", "caption": "Define the brightness indicator:"},
        {"type": "SelectVariable", "name": "BrightnessIDShadowingBySunPosition", "caption": "Brightness ID"},
        {"type": "SelectVariable", "name": "BrightnessThresholdIDShadowingBySunPosition", "caption": "Brightness Threshold ID"},
        {"type": "Label", "caption": "Define an additional temperature sensor when the outdoor temperature should be considered"},
        {"type": "SelectVariable", "name": "TemperatureIDShadowingBySunPosition", "caption": "Temperature ID"},
        {
          "type":  "ExpansionPanel", "caption": "Determination of the degree of shadowing",
          "items": [
            {"type": "Label", "caption": "Define two extreme sun positions (altitudes) and their associated shutter positions. From these values, the appropriate roller shutter height is calculated to the current altitude."},
            {"type": "NumberSpinner", "name": "LowSunPositionAltitude", "caption": "Low Sun Position (Altitude)", "digits": "1"},
            {"type": "NumberSpinner", "name": "HighSunPositionAltitude", "caption": "High Sun Position (Altitude)", "digits": "1"},
            {"type": "NumberSpinner", "name": "LowSunPositionBlindLevel", "caption": "Low Sun Position (Blind Level)", "digits": "2"},
            {"type": "NumberSpinner", "name": "HighSunPositionBlindLevel", "caption": "High Sun Position (Blind Level)", "digits": "2"}
          ]
        }
      ]
    },
    {
      "type":  "ExpansionPanel", "caption": "Shadowing According to Brightness (optional)",
      "items": [
        {"type": "SelectVariable", "name": "ActivatorIDShadowingBrightness", "caption": "Activator ID"},
        {"type": "Label", "caption": "Define the brightness indicator and up to two different levels"},
        {"type": "SelectVariable", "name": "BrightnessIDShadowingBrightness", "caption": "Brightness ID"},
        {"type": "SelectVariable", "name": "ThresholdIDLessBrightness", "caption": "Threshold less brightness ID"},
        {"type": "NumberSpinner", "name": "LevelLessBrightnessShadowingBrightness", "caption": "Level at less brightness", "digits": "2"},
        {"type": "SelectVariable", "name": "ThresholdIDHighBrightness", "caption": "Threshold high brightness ID"},
        {"type": "NumberSpinner", "name": "LevelHighBrightnessShadowingBrightness", "caption": "Level at high brightness", "digits": "2"}
      ]
    },
    {
      "type":  "ExpansionPanel", "caption": "Contacts (optional)",
      "items": [
        {
          "type":  "ExpansionPanel", "caption": "Contacts to Close the Blind (optional)",
          "items": [
            {"type": "Label", "caption": "Define up to two contacts/variables. The blind is closed immediately to the given maximum height if one of the contacts are open (>0)."},
            {"type": "SelectVariable", "name": "ContactClose1ID", "caption": "Contact 1 ID"},
            {"type": "NumberSpinner", "name": "ContactCloseLevel1", "caption": "Maximum height when the contact is open", "digits": "2"},
            {"type": "SelectVariable", "name": "ContactClose2ID", "caption": "Contact 2 ID"},
            {"type": "NumberSpinner", "name": "ContactCloseLevel2", "caption": "Maximum height when the contact is open", "digits": "2"}
          ]
        },
        {
          "type":  "ExpansionPanel", "caption": "Contacts to Open the Blind (optional)",
          "items": [
            {"type": "Label", "caption": "Define up to two contacts/variables. The blind is opened immediately to the given minimum height if one of the contacts are open (>0)."},
            {"type": "SelectVariable", "name": "ContactOpen1ID", "caption": "Contact 1 ID"},
            {"type": "NumberSpinner", "name": "ContactOpenLevel1", "caption": "Minimum height when the contact is open", "digits": "2"},
            {"type": "SelectVariable", "name": "ContactOpen2ID", "caption": "Contact 2 ID"},
            {"type": "NumberSpinner", "name": "ContactOpenLevel2", "caption": "Minimum height when the contact is open", "digits": "2"}
          ]
        }
      ]
    },
    {
      "type":  "ExpansionPanel", "caption": "Expert Parameters",
      "items": [
        {"type": "NumberSpinner", "name": "UpdateInterval", "caption": "Update Interval", "suffix": "Minutes"},
        {"type": "NumberSpinner", "name": "DeactivationAutomaticMovement", "caption": "Deactivation Time after automatic Movement", "suffix": "Minutes"},
        {"type": "NumberSpinner", "name": "DeactivationManualMovement", "caption": "Deactivation Time after manual Movement", "suffix": "Minutes"},
        {"type": "CheckBox", "name": "WriteLogInformationToIPSLogger", "caption": "Log and Error Information are written to the logfile of IPSLibrary instead of standard logfile"},
        {"type": "CheckBox", "name": "WriteDebugInformationToLogfile", "caption": "Debug information are written additionally to standard logfile"},
        {"type": "CheckBox", "name": "WriteDebugInformationToIPSLogger", "caption": "Debug information are written additionally to the logfile of IPSLibrary"}
      ]
    }
  ],
  "actions":  [
    {"type": "Button", "caption": "Control Blind", "onClick": "BLC_ControlBlind($id, true); echo 'Finished!';"},
    {"type": "Button", "caption": "Open Blind", "onClick": "if (BLC_MoveBlind($id, 0, 0, '')){echo 'Finished!';} else {echo 'Error!';}"},
    {"type": "Button", "caption": "Close Blind", "onClick": "if (BLC_MoveBlind($id, 100, 0, '')){echo 'Finished!';} else {echo 'Error!';}"},
    {"type": "Button", "caption": "Show Configuration", "onClick": "echo IPS_GetObject($id)['ObjectName'] . ' (#' . $id . ')' . PHP_EOL . PHP_EOL; print_r(json_decode(IPS_GetConfiguration ($id), true));"}
  ],
  "status":   [
    {"code": 201, "icon": "error", "caption": "Weekly Timetable Event ID is not valid"},
    {"code": 202, "icon": "error", "caption": "Holiday Indicator ID is not valid"},
    {"code": 203, "icon": "error", "caption": "Level ID is not valid"},
    {"code": 204, "icon": "error", "caption": "Brightness ID is not valid"},
    {"code": 205, "icon": "error", "caption": "Brightness Threshold ID is not valid"},
    {"code": 206, "icon": "error", "caption": "IsDay ID is not valid"},
    {"code": 207, "icon": "error", "caption": "Deactivation Time Manual is not valid"},
    {"code": 208, "icon": "error", "caption": "Deactivation Time Automatic is not valid"},
    {"code": 209, "icon": "error", "caption": "ScheduleGroups of Timetable are not valid"},
    {"code": 210, "icon": "error", "caption": "Contact 1 ID is not valid"},
    {"code": 211, "icon": "error", "caption": "Contact 2 ID is not valid"},
    {"code": 212, "icon": "error", "caption": "WakeUpTime ID is not valid"},
    {"code": 213, "icon": "error", "caption": "SleepTime ID is not valid"},
    {"code": 220, "icon": "error", "caption": "Shadowing according to sun position: Activator ID is not valid"},
    {"code": 221, "icon": "error", "caption": "Shadowing according to sun position: Azimuth ID is not valid"},
    {"code": 222, "icon": "error", "caption": "Shadowing according to sun position: Altitude ID is not valid"},
    {"code": 223, "icon": "error", "caption": "Shadowing according to sun position: Brightness ID is not valid"},
    {"code": 224, "icon": "error", "caption": "Shadowing according to sun position: Brightness Threshold ID is not valid"},
    {"code": 225, "icon": "error", "caption": "Shadowing according to sun position: Temperature ID is not valid"},
    {"code": 230, "icon": "error", "caption": "Shadowing according to brightness: Activator ID is not valid"},
    {"code": 231, "icon": "error", "caption": "Shadowing according to brightness: Brightness ID is not valid"},
    {"code": 232, "icon": "error", "caption": "Shadowing according to brightness: Threshold high brightness ID is not valid"},
    {"code": 233, "icon": "error", "caption": "Shadowing according to brightness: Threshold low brightness ID is not valid"}
  ]
}